# Protocollo di Comunicazione con il Database

Questo documento descrive il protocollo testuale per interagire con il database a file JSON.

## Sintassi dei Comandi

### Operazioni sulle Collezioni
*   **Creare una collezione:**
    `CREATE "<collection-name>" ON-KEY "<key-field>"`
*   **Eliminare una collezione:**
    `DELETE "<collection-name>"`
*   **Selezionare una collezione:**
    `SELECT "<collection-name>"`

### Operazioni sui Documenti (dopo una `SELECT`)
*   **Inserire un documento:**
    `INSERT <json-object>`
*   **Cercare documenti:**
    `SEARCH "<field>" = "<value>" [AND "<field>" = "<value>"]...`
*   **Rimuovere un documento (per chiave):**
    `REMOVE "<key-value>"`

## Regole

1.  I nomi di collezioni, i campi e i valori stringa devono essere sempre racchiusi tra doppi apici (es. `"users"`).
2.  I nomi di collezioni e campi non possono contenere spazi.
3.  Il `<json-object>` per il comando `INSERT` deve essere una stringa valida in formato JSON.

## Esempi

1.  **Creare la collezione `domains` con `name` come chiave primaria:**
    `CREATE "domains" ON-KEY "name"`

2.  **Selezionare la collezione `users` e inserire un nuovo utente:**
    `SELECT "users"`
    `INSERT {"id":16,"name":"Billy","surname":"Joe","email":"billy@joe.com", ...}`

3.  **Cercare un dominio per nome:**
    `SELECT "domains"`
    `SEARCH "name" = "billy-joe.com"`

4.  **Rimuovere un utente tramite il suo ID (che Ã¨ la chiave primaria):**
    `SELECT "users"`
    `REMOVE "16"`

5.  **Eliminare l'intera collezione `operations`:**
    `DELETE "operations"`